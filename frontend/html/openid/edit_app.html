{% extends "layout.html" %}
{% load static %}

{% block title %}
    –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: {{ app.name }} ‚Äî {{ block.super }}
{% endblock %}

{% block content %}
    <div class="content">
        <div class="profile-header">
            –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: {{ app.name }}
        </div>

        <div class="block">
            <div class="block-header">ü™ô –í–∞–∂–Ω—ã–µ —à—Ç—É–∫–∏</div>

            <div class="block-description">
                <strong>OAuth Client ID:</strong>
                <pre><code>{{ app.client_id }}</code></pre>
            </div>

            <div class="block-description">
                <strong>OAuth Client Secret:</strong>
                <pre><code>{{ app.client_secret }}</code></pre>
            </div>

            <div class="block-description">
                <strong>OpenID Configuration:</strong>
                <pre><code>{{ settings.APP_HOST }}{% url "openid_well_known_configuration" %}</code></pre>
            </div>

            <div class="block-description">
                <strong>Service Token:</strong>
                <pre><code>{{ app.service_token }}</code></pre>
            </div>
        </div>

        <div class="block">
            <div class="block-header">‚úçÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</div>

            <div class="block-description">
                <form action="." method="post" enctype="multipart/form-data">
                    {% csrf_token %}

                    {% for row in form %}
                        <div class="form-row">
                            <label for="{{ row.id_for_label }}" class="form-label">
                                {{ row.label }}
                            </label>
                            {{ row }}
                            {% if row.errors %}<span class="form-row-errors">{{ row.errors }}</span>{% endif %}
                        </div>
                    {% endfor %}

                    <button type="submit" class="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </form>
            </div>
        </div>

        <br><br><br><br>

        <div class="block">
            <div class="block-header">‚ò¢Ô∏è –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞ ‚ò¢Ô∏è</div>

            <div class="block-description block-description-center">
                <form action="{% url "delete_app" app.id %}" method="post">
                    <button class="button button-red" onclick="return confirm('–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å? –í—Å–µ —Ç–æ–∫–µ–Ω—ã –±—É–¥—É—Ç –æ–±–Ω—É–ª–µ–Ω—ã');">–£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

