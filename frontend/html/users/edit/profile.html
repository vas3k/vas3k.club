{% extends "layout.html" %}
{% load static %}

{% block title %}
    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è ‚Äî {{ block.super }}
{% endblock %}

{% block content %}
    <div class="content user-edit">
        <form action="{% url "edit_profile" user.slug %}" method="post" class="intro-form" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-title">üòé<br>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</div>

            {% if form.non_field_errors %}
                <div class="form-row form-row-center">
                    {% for error in form.non_field_errors %}
                        <span class="form-row-errors">{{ error }}</span>
                    {% endfor %}
                </div>
            {% endif %}

            <div class="block">
                <div class="form-row">
                    <label for="{{ form.full_name.id_for_label }}" class="form-label">
                        –ò–º—è
                    </label>
                    {{ form.full_name }}
                    {% if form.full_name.errors %}<span class="form-row-errors">{{ form.full_name.errors }}</span>{% endif %}
                    <span class="form-row-help">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–º—è + —Ñ–∞–º–∏–ª–∏—é, –ª–∏–±–æ –ø—Å–µ–≤–¥–æ–Ω–∏–º, –µ—Å–ª–∏ –≤–∞—Å –ª—É—á—à–µ –∑–Ω–∞—é—Ç –ø–æ –Ω–µ–º—É.</span>
                </div>

                <div class="form-row">
                    <label for="{{ form.country.id_for_label }}" class="form-label">
                        –°—Ç—Ä–∞–Ω–∞ –∏ –≥–æ—Ä–æ–¥
                    </label>
                    {{ form.country }} {{ form.city }}
                    {% if form.country.errors %}<span class="form-row-errors">{{ form.country.errors }}</span>{% endif %}
                    {% if form.city.errors %}<span class="form-row-errors">{{ form.city.errors }}</span>{% endif %}
                    <span class="form-row-help">–í–¥—Ä—É–≥ –º—ã —Ä–µ—à–∏–º —Å–æ–±—Ä–∞—Ç—å—Å—è –Ω–∞ –º–∏—Ç–∞–ø –∏–ª–∏ —Ç–∏–ø–∞ —Ç–æ–≥–æ.</span>
                </div>

                <div class="form-row">
                    <label for="{{ form.bio.id_for_label }}" class="form-label">
                        –°—Å—ã–ª–æ—á–∫–∏ –Ω–∞ —Å–µ–±—è –∏ –≤—Å—è–∫–æ–µ —Ç–∞–∫–æ–µ
                    </label>
                    {{ form.bio }}
                    {% if form.bio.errors %}<span class="form-row-errors">{{ form.bio.errors }}</span>{% endif %}
                    <span class="form-row-help">–ú–æ–∂–Ω–æ Markdown</span>
                </div>

                <div class="form-row">
                    <label for="{{ form.contact.id_for_label }}" class="form-label">
                        –ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
                    </label>
                    {{ form.contact }}
                    {% if form.contact.errors %}<span class="form-row-errors">{{ form.contact.errors }}</span>{% endif %}
                    <span class="form-row-help">–û–Ω –±—É–¥–µ—Ç –≤–∏–¥–µ–Ω –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ö–ª—É–±–∞. –¢–∞–∫ –æ–Ω–∏ —Å–º–æ–≥—É—Ç –≤–∞–º –Ω–∞–ø–∏—Å–∞—Ç—å –∏ –∑–∞–≤—è–∑–∞—Ç—å –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ. –ù–∞—Ä—É–∂—É –æ–Ω –Ω–µ –≤–∏–¥–µ–Ω.</span>
                </div>

                <div class="form-row">
                    <label for="{{ form.avatar.id_for_label }}" class="form-label">
                        –û–±–Ω–æ–≤–∏—Ç—å –∞–≤–∞—Ç–∞—Ä
                    </label>
                    <user-avatar-input 
                        input-id="{{ form.avatar.id_for_label }}"
                        current-avatar="{{ user.get_avatar }}"
                    ></user-avatar-input>
                    {{ form.avatar }}
                    {% if form.avatar.errors %}<span class="form-row-errors">{{ form.avatar.errors }}</span>{% endif %}
                </div>

                <div class="form-row">
                    <label for="{{ form.company.id_for_label }}" class="form-label">
                        –ö–æ–º–ø–∞–Ω–∏—è
                    </label>
                    {{ form.company }}
                    {% if form.company.errors %}<span class="form-row-errors">{{ form.company.errors }}</span>{% endif %}
                </div>

                <div class="form-row">
                    <label for="{{ form.position.id_for_label }}" class="form-label">
                        –î–æ–ª–∂–Ω–æ—Å—Ç—å
                    </label>
                    {{ form.position }}
                    {% if form.position.errors %}<span class="form-row-errors">{{ form.position.errors }}</span>{% endif %}
                </div>
            </div>

            <div class="clearfix50"></div>

            <button type="submit" class="button button-red">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
        </form>
    </div>
{% endblock %}
